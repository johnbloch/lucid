event ip_pkt (int src_ip, int dst_ip);
event count_src (int src_ip);

// component: basic packet forwarding

fun int fwd(int dst_ip) {
  if(dst_ip == 0){
    return 0;
}else{
    if(dst_ip == 1){
    return 0;
}else{
    if(dst_ip == 2){
    return 0;
}else{
    if(dst_ip == 3){
    return 0;
}else{
    if(dst_ip == 4){
    return 0;
}else{
    if(dst_ip == 5){
    return 0;
}else{
    if(dst_ip == 6){
    return 0;
}else{
    if(dst_ip == 7){
    return 0;
}else{
    if(dst_ip == 8){
    return 0;
}else{
    if(dst_ip == 9){
    return 0;
}else{
    if(dst_ip == 10){
    return 0;
}else{
    if(dst_ip == 11){
    return 0;
}else{
    if(dst_ip == 12){
    return 0;
}else{
    if(dst_ip == 13){
    return 0;
}else{
    if(dst_ip == 14){
    return 0;
}else{
    if(dst_ip == 15){
    return 0;
}else{
    if(dst_ip == 16){
    return 0;
}else{
    if(dst_ip == 17){
    return 0;
}else{
    if(dst_ip == 18){
    return 0;
}else{
    if(dst_ip == 19){
    return 0;
}else{
    if(dst_ip == 20){
    return 0;
}else{
    if(dst_ip == 21){
    return 0;
}else{
    if(dst_ip == 22){
    return 0;
}else{
    if(dst_ip == 23){
    return 0;
}else{
    if(dst_ip == 24){
    return 0;
}else{
    if(dst_ip == 25){
    return 0;
}else{
    if(dst_ip == 26){
    return 0;
}else{
    if(dst_ip == 27){
    return 0;
}else{
    if(dst_ip == 28){
    return 0;
}else{
    if(dst_ip == 29){
    return 0;
}else{
    if(dst_ip == 30){
    return 0;
}else{
    if(dst_ip == 31){
    return 0;
}else{
    if(dst_ip == 32){
    return 0;
}else{
    if(dst_ip == 33){
    return 0;
}else{
    if(dst_ip == 34){
    return 0;
}else{
    if(dst_ip == 35){
    return 0;
}else{
    if(dst_ip == 36){
    return 0;
}else{
    if(dst_ip == 37){
    return 0;
}else{
    if(dst_ip == 38){
    return 0;
}else{
    if(dst_ip == 39){
    return 0;
}else{
    if(dst_ip == 40){
    return 0;
}else{
    if(dst_ip == 41){
    return 0;
}else{
    if(dst_ip == 42){
    return 0;
}else{
    if(dst_ip == 43){
    return 0;
}else{
    if(dst_ip == 44){
    return 0;
}else{
    if(dst_ip == 45){
    return 0;
}else{
    if(dst_ip == 46){
    return 0;
}else{
    if(dst_ip == 47){
    return 0;
}else{
    if(dst_ip == 48){
    return 0;
}else{
    if(dst_ip == 49){
    return 0;
}else{
    if(dst_ip == 50){
    return 0;
}else{
    if(dst_ip == 51){
    return 0;
}else{
    if(dst_ip == 52){
    return 0;
}else{
    if(dst_ip == 53){
    return 0;
}else{
    if(dst_ip == 54){
    return 0;
}else{
    if(dst_ip == 55){
    return 0;
}else{
    if(dst_ip == 56){
    return 0;
}else{
    if(dst_ip == 57){
    return 0;
}else{
    if(dst_ip == 58){
    return 0;
}else{
    if(dst_ip == 59){
    return 0;
}else{
    if(dst_ip == 60){
    return 0;
}else{
    if(dst_ip == 61){
    return 0;
}else{
    if(dst_ip == 62){
    return 0;
}else{
    if(dst_ip == 63){
    return 0;
}else{
    if(dst_ip == 64){
    return 0;
}else{
    if(dst_ip == 65){
    return 0;
}else{
    if(dst_ip == 66){
    return 0;
}else{
    if(dst_ip == 67){
    return 0;
}else{
    if(dst_ip == 68){
    return 0;
}else{
    if(dst_ip == 69){
    return 0;
}else{
    if(dst_ip == 70){
    return 0;
}else{
    if(dst_ip == 71){
    return 0;
}else{
    if(dst_ip == 72){
    return 0;
}else{
    if(dst_ip == 73){
    return 0;
}else{
    if(dst_ip == 74){
    return 0;
}else{
    if(dst_ip == 75){
    return 0;
}else{
    if(dst_ip == 76){
    return 0;
}else{
    if(dst_ip == 77){
    return 0;
}else{
    if(dst_ip == 78){
    return 0;
}else{
    if(dst_ip == 79){
    return 0;
}else{
    if(dst_ip == 80){
    return 0;
}else{
    if(dst_ip == 81){
    return 0;
}else{
    if(dst_ip == 82){
    return 0;
}else{
    if(dst_ip == 83){
    return 0;
}else{
    if(dst_ip == 84){
    return 0;
}else{
    if(dst_ip == 85){
    return 0;
}else{
    if(dst_ip == 86){
    return 0;
}else{
    if(dst_ip == 87){
    return 0;
}else{
    if(dst_ip == 88){
    return 0;
}else{
    if(dst_ip == 89){
    return 0;
}else{
    if(dst_ip == 90){
    return 0;
}else{
    if(dst_ip == 91){
    return 0;
}else{
    if(dst_ip == 92){
    return 0;
}else{
    if(dst_ip == 93){
    return 0;
}else{
    if(dst_ip == 94){
    return 0;
}else{
    if(dst_ip == 95){
    return 0;
}else{
    if(dst_ip == 96){
    return 0;
}else{
    if(dst_ip == 97){
    return 0;
}else{
    if(dst_ip == 98){
    return 0;
}else{
    if(dst_ip == 99){
    return 0;
}else{
    return 1;
}
}
}
}
}
}
}
}
}
}
}
}
}
}
}
}
}
}
}
}
}
}
}
}
}
}
}
}
}
}
}
}
}
}
}
}
}
}
}
}
}
}
}
}
}
}
}
}
}
}
}
}
}
}
}
}
}
}
}
}
}
}
}
}
}
}
}
}
}
}
}
}
}
}
}
}
}
}
}
}
}
}
}
}
}
}
}
}
}
}
}
}
}
}
}
}
}
}
}
}

}

event ip_pkt(int src_ip, int dst_ip) {
    int egress = fwd(dst_ip);
    generate_port(egress, this);
}
